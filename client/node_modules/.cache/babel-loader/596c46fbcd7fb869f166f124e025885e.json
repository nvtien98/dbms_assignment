{"ast":null,"code":"import io from 'socket.io-client';\nimport { ioUrl } from './_services/config';\nexport default (function () {\n  let instance = undefined;\n\n  function open(data) {\n    instance = undefined;\n\n    if (instance !== undefined) {\n      throw new Error(\"Attempt to open Socket connection fails\");\n    }\n\n    instance = io.connect(ioUrl);\n    emit('CLIENT.SEND_INFO', data);\n  }\n\n  function close() {\n    if (instance === undefined) {\n      throw new Error(\"Attempt to close null Socket connection fails\");\n    }\n\n    instance.close();\n    instance = undefined;\n  }\n\n  function emit(eventType, data) {\n    instance.emit(eventType, data);\n  }\n\n  function on(eventName, f) {\n    setTimeout(() => {\n      instance.on(eventName, data => {\n        f(data);\n      });\n    }, 100);\n  }\n\n  return {\n    open,\n    close,\n    emit,\n    on\n  };\n})();","map":{"version":3,"sources":["/home/tiennv/Documents/HK191/DBMS/react_chat_app/client/src/Socket.js"],"names":["io","ioUrl","instance","undefined","open","data","Error","connect","emit","close","eventType","on","eventName","f","setTimeout"],"mappings":"AAAA,OAAOA,EAAP,MAAe,kBAAf;AACA,SAASC,KAAT,QAAsB,oBAAtB;AAEA,eAAe,CAAC,YAAY;AAC3B,MAAIC,QAAQ,GAAGC,SAAf;;AAEA,WAASC,IAAT,CAAcC,IAAd,EAAoB;AACnBH,IAAAA,QAAQ,GAAGC,SAAX;;AACA,QAAID,QAAQ,KAAKC,SAAjB,EAA4B;AAC3B,YAAM,IAAIG,KAAJ,CAAU,yCAAV,CAAN;AACA;;AACDJ,IAAAA,QAAQ,GAAGF,EAAE,CAACO,OAAH,CAAWN,KAAX,CAAX;AACAO,IAAAA,IAAI,CAAC,kBAAD,EAAqBH,IAArB,CAAJ;AACA;;AAED,WAASI,KAAT,GAAiB;AAChB,QAAIP,QAAQ,KAAKC,SAAjB,EAA4B;AAC3B,YAAM,IAAIG,KAAJ,CAAU,+CAAV,CAAN;AACA;;AAEDJ,IAAAA,QAAQ,CAACO,KAAT;AACAP,IAAAA,QAAQ,GAAGC,SAAX;AACA;;AAED,WAASK,IAAT,CAAcE,SAAd,EAAyBL,IAAzB,EAA+B;AAC9BH,IAAAA,QAAQ,CAACM,IAAT,CAAcE,SAAd,EAAyBL,IAAzB;AACA;;AAED,WAASM,EAAT,CAAYC,SAAZ,EAAuBC,CAAvB,EAA0B;AACzBC,IAAAA,UAAU,CAAC,MAAM;AAChBZ,MAAAA,QAAQ,CAACS,EAAT,CAAYC,SAAZ,EAAwBP,IAAD,IAAU;AAAEQ,QAAAA,CAAC,CAACR,IAAD,CAAD;AAAU,OAA7C;AACA,KAFS,EAEP,GAFO,CAAV;AAGA;;AAED,SAAO;AAAED,IAAAA,IAAF;AAAQK,IAAAA,KAAR;AAAeD,IAAAA,IAAf;AAAqBG,IAAAA;AAArB,GAAP;AACA,CAhCc,GAAf","sourcesContent":["import io from 'socket.io-client';\nimport { ioUrl } from './_services/config';\n\nexport default (function () {\n\tlet instance = undefined;\n\n\tfunction open(data) {\n\t\tinstance = undefined;\n\t\tif (instance !== undefined) {\n\t\t\tthrow new Error(\"Attempt to open Socket connection fails\");\n\t\t}\n\t\tinstance = io.connect(ioUrl);\n\t\temit('CLIENT.SEND_INFO', data)\n\t}\n\n\tfunction close() {\n\t\tif (instance === undefined) {\n\t\t\tthrow new Error(\"Attempt to close null Socket connection fails\");\n\t\t}\n\n\t\tinstance.close();\n\t\tinstance = undefined;\n\t}\n\n\tfunction emit(eventType, data) {\n\t\tinstance.emit(eventType, data);\n\t}\n\n\tfunction on(eventName, f) {\n\t\tsetTimeout(() => {\n\t\t\tinstance.on(eventName, (data) => { f(data); });\n\t\t}, 100)\n\t}\n\n\treturn { open, close, emit, on };\n})();"]},"metadata":{},"sourceType":"module"}